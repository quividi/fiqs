{
    "_shards": {
        "failed": 0,
        "skipped": 0,
        "successful": 2,
        "total": 2
    },
    "aggregations": {
        "shop_id": {
            "buckets": [
                {
                    "doc_count": 114,
                    "key": 5,
                    "products": {
                        "doc_count": 167,
                        "product_type": {
                            "buckets": [
                                {
                                    "avg_product_price": {
                                        "value": 182.26666666666668
                                    },
                                    "doc_count": 45,
                                    "key": "product_type_3"
                                },
                                {
                                    "avg_product_price": {
                                        "value": 142.609756097561
                                    },
                                    "doc_count": 41,
                                    "key": "product_type_2"
                                },
                                {
                                    "avg_product_price": {
                                        "value": 150.03571428571428
                                    },
                                    "doc_count": 28,
                                    "key": "product_type_4"
                                },
                                {
                                    "avg_product_price": {
                                        "value": 114.85185185185185
                                    },
                                    "doc_count": 27,
                                    "key": "product_type_1"
                                },
                                {
                                    "avg_product_price": {
                                        "value": 165.8846153846154
                                    },
                                    "doc_count": 26,
                                    "key": "product_type_0"
                                }
                            ],
                            "doc_count_error_upper_bound": 0,
                            "sum_other_doc_count": 0
                        }
                    }
                },
                {
                    "doc_count": 110,
                    "key": 8,
                    "products": {
                        "doc_count": 180,
                        "product_type": {
                            "buckets": [
                                {
                                    "avg_product_price": {
                                        "value": 196.10344827586206
                                    },
                                    "doc_count": 58,
                                    "key": "product_type_3"
                                },
                                {
                                    "avg_product_price": {
                                        "value": 148.1951219512195
                                    },
                                    "doc_count": 41,
                                    "key": "product_type_2"
                                },
                                {
                                    "avg_product_price": {
                                        "value": 251.05882352941177
                                    },
                                    "doc_count": 34,
                                    "key": "product_type_4"
                                },
                                {
                                    "avg_product_price": {
                                        "value": 174.33333333333334
                                    },
                                    "doc_count": 27,
                                    "key": "product_type_1"
                                },
                                {
                                    "avg_product_price": {
                                        "value": 147.85
                                    },
                                    "doc_count": 20,
                                    "key": "product_type_0"
                                }
                            ],
                            "doc_count_error_upper_bound": 0,
                            "sum_other_doc_count": 0
                        }
                    }
                },
                {
                    "doc_count": 107,
                    "key": 7,
                    "products": {
                        "doc_count": 190,
                        "product_type": {
                            "buckets": [
                                {
                                    "avg_product_price": {
                                        "value": 148.47058823529412
                                    },
                                    "doc_count": 68,
                                    "key": "product_type_3"
                                },
                                {
                                    "avg_product_price": {
                                        "value": 142.04761904761904
                                    },
                                    "doc_count": 42,
                                    "key": "product_type_1"
                                },
                                {
                                    "avg_product_price": {
                                        "value": 147.275
                                    },
                                    "doc_count": 40,
                                    "key": "product_type_2"
                                },
                                {
                                    "avg_product_price": {
                                        "value": 179.55555555555554
                                    },
                                    "doc_count": 27,
                                    "key": "product_type_4"
                                },
                                {
                                    "avg_product_price": {
                                        "value": 107.15384615384616
                                    },
                                    "doc_count": 13,
                                    "key": "product_type_0"
                                }
                            ],
                            "doc_count_error_upper_bound": 0,
                            "sum_other_doc_count": 0
                        }
                    }
                },
                {
                    "doc_count": 104,
                    "key": 3,
                    "products": {
                        "doc_count": 166,
                        "product_type": {
                            "buckets": [
                                {
                                    "avg_product_price": {
                                        "value": 184.75
                                    },
                                    "doc_count": 52,
                                    "key": "product_type_3"
                                },
                                {
                                    "avg_product_price": {
                                        "value": 172.53846153846155
                                    },
                                    "doc_count": 39,
                                    "key": "product_type_2"
                                },
                                {
                                    "avg_product_price": {
                                        "value": 134.52941176470588
                                    },
                                    "doc_count": 34,
                                    "key": "product_type_1"
                                },
                                {
                                    "avg_product_price": {
                                        "value": 171.0909090909091
                                    },
                                    "doc_count": 22,
                                    "key": "product_type_4"
                                },
                                {
                                    "avg_product_price": {
                                        "value": 129.73684210526315
                                    },
                                    "doc_count": 19,
                                    "key": "product_type_0"
                                }
                            ],
                            "doc_count_error_upper_bound": 0,
                            "sum_other_doc_count": 0
                        }
                    }
                },
                {
                    "doc_count": 103,
                    "key": 2,
                    "products": {
                        "doc_count": 154,
                        "product_type": {
                            "buckets": [
                                {
                                    "avg_product_price": {
                                        "value": 159.1090909090909
                                    },
                                    "doc_count": 55,
                                    "key": "product_type_3"
                                },
                                {
                                    "avg_product_price": {
                                        "value": 106.15625
                                    },
                                    "doc_count": 32,
                                    "key": "product_type_2"
                                },
                                {
                                    "avg_product_price": {
                                        "value": 98.14285714285714
                                    },
                                    "doc_count": 28,
                                    "key": "product_type_1"
                                },
                                {
                                    "avg_product_price": {
                                        "value": 119.25925925925925
                                    },
                                    "doc_count": 27,
                                    "key": "product_type_4"
                                },
                                {
                                    "avg_product_price": {
                                        "value": 137.66666666666666
                                    },
                                    "doc_count": 12,
                                    "key": "product_type_0"
                                }
                            ],
                            "doc_count_error_upper_bound": 0,
                            "sum_other_doc_count": 0
                        }
                    }
                },
                {
                    "doc_count": 102,
                    "key": 10,
                    "products": {
                        "doc_count": 150,
                        "product_type": {
                            "buckets": [
                                {
                                    "avg_product_price": {
                                        "value": 211.28813559322035
                                    },
                                    "doc_count": 59,
                                    "key": "product_type_3"
                                },
                                {
                                    "avg_product_price": {
                                        "value": 127.15151515151516
                                    },
                                    "doc_count": 33,
                                    "key": "product_type_4"
                                },
                                {
                                    "avg_product_price": {
                                        "value": 178.28
                                    },
                                    "doc_count": 25,
                                    "key": "product_type_2"
                                },
                                {
                                    "avg_product_price": {
                                        "value": 157.1
                                    },
                                    "doc_count": 20,
                                    "key": "product_type_1"
                                },
                                {
                                    "avg_product_price": {
                                        "value": 84.61538461538461
                                    },
                                    "doc_count": 13,
                                    "key": "product_type_0"
                                }
                            ],
                            "doc_count_error_upper_bound": 0,
                            "sum_other_doc_count": 0
                        }
                    }
                },
                {
                    "doc_count": 96,
                    "key": 1,
                    "products": {
                        "doc_count": 149,
                        "product_type": {
                            "buckets": [
                                {
                                    "avg_product_price": {
                                        "value": 170.26190476190476
                                    },
                                    "doc_count": 42,
                                    "key": "product_type_3"
                                },
                                {
                                    "avg_product_price": {
                                        "value": 196.97222222222223
                                    },
                                    "doc_count": 36,
                                    "key": "product_type_2"
                                },
                                {
                                    "avg_product_price": {
                                        "value": 140.86666666666667
                                    },
                                    "doc_count": 30,
                                    "key": "product_type_1"
                                },
                                {
                                    "avg_product_price": {
                                        "value": 131.17241379310346
                                    },
                                    "doc_count": 29,
                                    "key": "product_type_4"
                                },
                                {
                                    "avg_product_price": {
                                        "value": 205.25
                                    },
                                    "doc_count": 12,
                                    "key": "product_type_0"
                                }
                            ],
                            "doc_count_error_upper_bound": 0,
                            "sum_other_doc_count": 0
                        }
                    }
                },
                {
                    "doc_count": 91,
                    "key": 4,
                    "products": {
                        "doc_count": 101,
                        "product_type": {
                            "buckets": [
                                {
                                    "avg_product_price": {
                                        "value": 182.67741935483872
                                    },
                                    "doc_count": 31,
                                    "key": "product_type_3"
                                },
                                {
                                    "avg_product_price": {
                                        "value": 209.95454545454547
                                    },
                                    "doc_count": 22,
                                    "key": "product_type_4"
                                },
                                {
                                    "avg_product_price": {
                                        "value": 207.55555555555554
                                    },
                                    "doc_count": 18,
                                    "key": "product_type_1"
                                },
                                {
                                    "avg_product_price": {
                                        "value": 208.05555555555554
                                    },
                                    "doc_count": 18,
                                    "key": "product_type_2"
                                },
                                {
                                    "avg_product_price": {
                                        "value": 79.66666666666667
                                    },
                                    "doc_count": 12,
                                    "key": "product_type_0"
                                }
                            ],
                            "doc_count_error_upper_bound": 0,
                            "sum_other_doc_count": 0
                        }
                    }
                },
                {
                    "doc_count": 91,
                    "key": 9,
                    "products": {
                        "doc_count": 152,
                        "product_type": {
                            "buckets": [
                                {
                                    "avg_product_price": {
                                        "value": 216.5079365079365
                                    },
                                    "doc_count": 63,
                                    "key": "product_type_3"
                                },
                                {
                                    "avg_product_price": {
                                        "value": 187.06060606060606
                                    },
                                    "doc_count": 33,
                                    "key": "product_type_1"
                                },
                                {
                                    "avg_product_price": {
                                        "value": 112.875
                                    },
                                    "doc_count": 24,
                                    "key": "product_type_2"
                                },
                                {
                                    "avg_product_price": {
                                        "value": 135.36363636363637
                                    },
                                    "doc_count": 22,
                                    "key": "product_type_4"
                                },
                                {
                                    "avg_product_price": {
                                        "value": 125.4
                                    },
                                    "doc_count": 10,
                                    "key": "product_type_0"
                                }
                            ],
                            "doc_count_error_upper_bound": 0,
                            "sum_other_doc_count": 0
                        }
                    }
                },
                {
                    "doc_count": 82,
                    "key": 6,
                    "products": {
                        "doc_count": 131,
                        "product_type": {
                            "buckets": [
                                {
                                    "avg_product_price": {
                                        "value": 141.9814814814815
                                    },
                                    "doc_count": 54,
                                    "key": "product_type_3"
                                },
                                {
                                    "avg_product_price": {
                                        "value": 133.95652173913044
                                    },
                                    "doc_count": 23,
                                    "key": "product_type_4"
                                },
                                {
                                    "avg_product_price": {
                                        "value": 209.61904761904762
                                    },
                                    "doc_count": 21,
                                    "key": "product_type_1"
                                },
                                {
                                    "avg_product_price": {
                                        "value": 215.1904761904762
                                    },
                                    "doc_count": 21,
                                    "key": "product_type_2"
                                },
                                {
                                    "avg_product_price": {
                                        "value": 76.5
                                    },
                                    "doc_count": 12,
                                    "key": "product_type_0"
                                }
                            ],
                            "doc_count_error_upper_bound": 0,
                            "sum_other_doc_count": 0
                        }
                    }
                }
            ],
            "doc_count_error_upper_bound": 0,
            "sum_other_doc_count": 0
        }
    },
    "hits": {
        "hits": [
            {
                "_id": "1",
                "_index": "test_sale",
                "_score": 1.0,
                "_source": {
                    "client_id": "client_EF2QT3BU2U",
                    "id": 1,
                    "payment_type": "wire_transfer",
                    "price": 778,
                    "products": [
                        {
                            "parts": [
                                {
                                    "part_id": "part_9",
                                    "part_price": 12,
                                    "warehouse_id": "warehouse_10"
                                },
                                {
                                    "part_id": "part_5",
                                    "part_price": 12,
                                    "warehouse_id": "warehouse_5"
                                },
                                {
                                    "part_id": "part_8",
                                    "part_price": 12,
                                    "warehouse_id": "warehouse_2"
                                },
                                {
                                    "part_id": "part_6",
                                    "part_price": 12,
                                    "warehouse_id": "warehouse_9"
                                }
                            ],
                            "product_id": "product_I8ZKUFOYON",
                            "product_price": 77,
                            "product_type": "product_type_1"
                        },
                        {
                            "parts": [
                                {
                                    "part_id": "part_3",
                                    "part_price": 5,
                                    "warehouse_id": "warehouse_10"
                                },
                                {
                                    "part_id": "part_7",
                                    "part_price": 5,
                                    "warehouse_id": "warehouse_9"
                                },
                                {
                                    "part_id": "part_4",
                                    "part_price": 5,
                                    "warehouse_id": "warehouse_9"
                                },
                                {
                                    "part_id": "part_2",
                                    "part_price": 5,
                                    "warehouse_id": "warehouse_2"
                                },
                                {
                                    "part_id": "part_3",
                                    "part_price": 5,
                                    "warehouse_id": "warehouse_10"
                                },
                                {
                                    "part_id": "part_2",
                                    "part_price": 5,
                                    "warehouse_id": "warehouse_5"
                                },
                                {
                                    "part_id": "part_5",
                                    "part_price": 5,
                                    "warehouse_id": "warehouse_4"
                                },
                                {
                                    "part_id": "part_5",
                                    "part_price": 5,
                                    "warehouse_id": "warehouse_9"
                                },
                                {
                                    "part_id": "part_7",
                                    "part_price": 5,
                                    "warehouse_id": "warehouse_9"
                                }
                            ],
                            "product_id": "product_MECO0MY 8I",
                            "product_price": 77,
                            "product_type": "product_type_4"
                        },
                        {
                            "parts": [
                                {
                                    "part_id": "part_1",
                                    "part_price": 52,
                                    "warehouse_id": "warehouse_1"
                                },
                                {
                                    "part_id": "part_6",
                                    "part_price": 52,
                                    "warehouse_id": "warehouse_1"
                                },
                                {
                                    "part_id": "part_4",
                                    "part_price": 52,
                                    "warehouse_id": "warehouse_2"
                                },
                                {
                                    "part_id": "part_2",
                                    "part_price": 52,
                                    "warehouse_id": "warehouse_3"
                                },
                                {
                                    "part_id": "part_8",
                                    "part_price": 52,
                                    "warehouse_id": "warehouse_7"
                                },
                                {
                                    "part_id": "part_3",
                                    "part_price": 52,
                                    "warehouse_id": "warehouse_5"
                                },
                                {
                                    "part_id": "part_3",
                                    "part_price": 52,
                                    "warehouse_id": "warehouse_9"
                                },
                                {
                                    "part_id": "part_2",
                                    "part_price": 52,
                                    "warehouse_id": "warehouse_8"
                                }
                            ],
                            "product_id": "product_U7IR9P3T Y",
                            "product_price": 624,
                            "product_type": "product_type_2"
                        }
                    ],
                    "shop_id": 6,
                    "timestamp": 1452328559000
                }
            },
            {
                "_id": "2",
                "_index": "test_sale",
                "_score": 1.0,
                "_source": {
                    "client_id": "client_PKHL3U9 1M",
                    "id": 2,
                    "payment_type": "wire_transfer",
                    "price": 476,
                    "products": [
                        {
                            "parts": [
                                {
                                    "part_id": "part_4",
                                    "part_price": 5,
                                    "warehouse_id": "warehouse_4"
                                },
                                {
                                    "part_id": "part_9",
                                    "part_price": 5,
                                    "warehouse_id": "warehouse_10"
                                },
                                {
                                    "part_id": "part_2",
                                    "part_price": 5,
                                    "warehouse_id": "warehouse_8"
                                },
                                {
                                    "part_id": "part_4",
                                    "part_price": 5,
                                    "warehouse_id": "warehouse_1"
                                },
                                {
                                    "part_id": "part_2",
                                    "part_price": 5,
                                    "warehouse_id": "warehouse_2"
                                },
                                {
                                    "part_id": "part_2",
                                    "part_price": 5,
                                    "warehouse_id": "warehouse_3"
                                }
                            ],
                            "product_id": "product_1PQ2VPDKLF",
                            "product_price": 47,
                            "product_type": "product_type_2"
                        },
                        {
                            "parts": [
                                {
                                    "part_id": "part_8",
                                    "part_price": 15,
                                    "warehouse_id": "warehouse_5"
                                },
                                {
                                    "part_id": "part_7",
                                    "part_price": 15,
                                    "warehouse_id": "warehouse_10"
                                }
                            ],
                            "product_id": "product_C3V01IF66F",
                            "product_price": 47,
                            "product_type": "product_type_1"
                        },
                        {
                            "parts": [
                                {
                                    "part_id": "part_2",
                                    "part_price": 10,
                                    "warehouse_id": "warehouse_6"
                                },
                                {
                                    "part_id": "part_7",
                                    "part_price": 10,
                                    "warehouse_id": "warehouse_7"
                                },
                                {
                                    "part_id": "part_6",
                                    "part_price": 10,
                                    "warehouse_id": "warehouse_9"
                                }
                            ],
                            "product_id": "product_AFB0IM8VQG",
                            "product_price": 47,
                            "product_type": "product_type_3"
                        },
                        {
                            "parts": [
                                {
                                    "part_id": "part_8",
                                    "part_price": 74,
                                    "warehouse_id": "warehouse_7"
                                },
                                {
                                    "part_id": "part_5",
                                    "part_price": 74,
                                    "warehouse_id": "warehouse_6"
                                },
                                {
                                    "part_id": "part_5",
                                    "part_price": 74,
                                    "warehouse_id": "warehouse_2"
                                }
                            ],
                            "product_id": "product_0J TO92VJS",
                            "product_price": 335,
                            "product_type": "product_type_0"
                        }
                    ],
                    "shop_id": 1,
                    "timestamp": 1452541689000
                }
            },
            {
                "_id": "3",
                "_index": "test_sale",
                "_score": 1.0,
                "_source": {
                    "client_id": "client_UN8K1EVLB9",
                    "id": 3,
                    "payment_type": "store_credit",
                    "price": 400,
                    "products": [
                        {
                            "parts": [
                                {
                                    "part_id": "part_4",
                                    "part_price": 6,
                                    "warehouse_id": "warehouse_3"
                                },
                                {
                                    "part_id": "part_5",
                                    "part_price": 6,
                                    "warehouse_id": "warehouse_7"
                                },
                                {
                                    "part_id": "part_3",
                                    "part_price": 6,
                                    "warehouse_id": "warehouse_8"
                                },
                                {
                                    "part_id": "part_4",
                                    "part_price": 6,
                                    "warehouse_id": "warehouse_2"
                                }
                            ],
                            "product_id": "product_7945J5QXDP",
                            "product_price": 40,
                            "product_type": "product_type_3"
                        },
                        {
                            "parts": [
                                {
                                    "part_id": "part_2",
                                    "part_price": 2,
                                    "warehouse_id": "warehouse_3"
                                },
                                {
                                    "part_id": "part_2",
                                    "part_price": 2,
                                    "warehouse_id": "warehouse_6"
                                },
                                {
                                    "part_id": "part_2",
                                    "part_price": 2,
                                    "warehouse_id": "warehouse_1"
                                },
                                {
                                    "part_id": "part_7",
                                    "part_price": 2,
                                    "warehouse_id": "warehouse_3"
                                },
                                {
                                    "part_id": "part_7",
                                    "part_price": 2,
                                    "warehouse_id": "warehouse_5"
                                },
                                {
                                    "part_id": "part_1",
                                    "part_price": 2,
                                    "warehouse_id": "warehouse_7"
                                },
                                {
                                    "part_id": "part_3",
                                    "part_price": 2,
                                    "warehouse_id": "warehouse_2"
                                },
                                {
                                    "part_id": "part_8",
                                    "part_price": 2,
                                    "warehouse_id": "warehouse_1"
                                },
                                {
                                    "part_id": "part_7",
                                    "part_price": 2,
                                    "warehouse_id": "warehouse_9"
                                },
                                {
                                    "part_id": "part_9",
                                    "part_price": 2,
                                    "warehouse_id": "warehouse_8"
                                }
                            ],
                            "product_id": "product_RE7WX1BHL6",
                            "product_price": 40,
                            "product_type": "product_type_2"
                        },
                        {
                            "parts": [
                                {
                                    "part_id": "part_6",
                                    "part_price": 26,
                                    "warehouse_id": "warehouse_1"
                                }
                            ],
                            "product_id": "product_6VI5E5WXHP",
                            "product_price": 40,
                            "product_type": "product_type_3"
                        },
                        {
                            "parts": [
                                {
                                    "part_id": "part_2",
                                    "part_price": 18,
                                    "warehouse_id": "warehouse_7"
                                },
                                {
                                    "part_id": "part_5",
                                    "part_price": 18,
                                    "warehouse_id": "warehouse_4"
                                },
                                {
                                    "part_id": "part_5",
                                    "part_price": 18,
                                    "warehouse_id": "warehouse_8"
                                },
                                {
                                    "part_id": "part_7",
                                    "part_price": 18,
                                    "warehouse_id": "warehouse_5"
                                },
                                {
                                    "part_id": "part_8",
                                    "part_price": 18,
                                    "warehouse_id": "warehouse_3"
                                },
                                {
                                    "part_id": "part_3",
                                    "part_price": 18,
                                    "warehouse_id": "warehouse_1"
                                },
                                {
                                    "part_id": "part_10",
                                    "part_price": 18,
                                    "warehouse_id": "warehouse_7"
                                },
                                {
                                    "part_id": "part_5",
                                    "part_price": 18,
                                    "warehouse_id": "warehouse_3"
                                },
                                {
                                    "part_id": "part_8",
                                    "part_price": 18,
                                    "warehouse_id": "warehouse_9"
                                },
                                {
                                    "part_id": "part_10",
                                    "part_price": 18,
                                    "warehouse_id": "warehouse_10"
                                }
                            ],
                            "product_id": "product_TECPRK3SOW",
                            "product_price": 280,
                            "product_type": "product_type_2"
                        }
                    ],
                    "shop_id": 10,
                    "timestamp": 1452733572000
                }
            },
            {
                "_id": "4",
                "_index": "test_sale",
                "_score": 1.0,
                "_source": {
                    "client_id": "client_82R1405RP4",
                    "id": 4,
                    "payment_type": "wire_transfer",
                    "price": 63,
                    "products": [
                        {
                            "parts": [
                                {
                                    "part_id": "part_1",
                                    "part_price": 1,
                                    "warehouse_id": "warehouse_6"
                                },
                                {
                                    "part_id": "part_5",
                                    "part_price": 1,
                                    "warehouse_id": "warehouse_7"
                                },
                                {
                                    "part_id": "part_9",
                                    "part_price": 1,
                                    "warehouse_id": "warehouse_5"
                                },
                                {
                                    "part_id": "part_4",
                                    "part_price": 1,
                                    "warehouse_id": "warehouse_7"
                                }
                            ],
                            "product_id": "product_AFB0IM8VQG",
                            "product_price": 6,
                            "product_type": "product_type_3"
                        },
                        {
                            "parts": [
                                {
                                    "part_id": "part_3",
                                    "part_price": 1,
                                    "warehouse_id": "warehouse_10"
                                },
                                {
                                    "part_id": "part_10",
                                    "part_price": 1,
                                    "warehouse_id": "warehouse_5"
                                },
                                {
                                    "part_id": "part_8",
                                    "part_price": 1,
                                    "warehouse_id": "warehouse_4"
                                }
                            ],
                            "product_id": "product_AM7JA8F9MZ",
                            "product_price": 6,
                            "product_type": "product_type_4"
                        },
                        {
                            "parts": [
                                {
                                    "part_id": "part_5",
                                    "part_price": 1,
                                    "warehouse_id": "warehouse_10"
                                },
                                {
                                    "part_id": "part_9",
                                    "part_price": 1,
                                    "warehouse_id": "warehouse_2"
                                },
                                {
                                    "part_id": "part_7",
                                    "part_price": 1,
                                    "warehouse_id": "warehouse_3"
                                }
                            ],
                            "product_id": "product_W6G9H0W2MH",
                            "product_price": 6,
                            "product_type": "product_type_2"
                        },
                        {
                            "parts": [
                                {
                                    "part_id": "part_5",
                                    "part_price": 2,
                                    "warehouse_id": "warehouse_10"
                                },
                                {
                                    "part_id": "part_1",
                                    "part_price": 2,
                                    "warehouse_id": "warehouse_2"
                                }
                            ],
                            "product_id": "product_134XH7WPJ ",
                            "product_price": 6,
                            "product_type": "product_type_0"
                        },
                        {
                            "parts": [
                                {
                                    "part_id": "part_6",
                                    "part_price": 2,
                                    "warehouse_id": "warehouse_4"
                                },
                                {
                                    "part_id": "part_6",
                                    "part_price": 2,
                                    "warehouse_id": "warehouse_10"
                                },
                                {
                                    "part_id": "part_9",
                                    "part_price": 2,
                                    "warehouse_id": "warehouse_10"
                                },
                                {
                                    "part_id": "part_10",
                                    "part_price": 2,
                                    "warehouse_id": "warehouse_4"
                                },
                                {
                                    "part_id": "part_7",
                                    "part_price": 2,
                                    "warehouse_id": "warehouse_10"
                                },
                                {
                                    "part_id": "part_9",
                                    "part_price": 2,
                                    "warehouse_id": "warehouse_2"
                                },
                                {
                                    "part_id": "part_10",
                                    "part_price": 2,
                                    "warehouse_id": "warehouse_7"
                                },
                                {
                                    "part_id": "part_9",
                                    "part_price": 2,
                                    "warehouse_id": "warehouse_1"
                                },
                                {
                                    "part_id": "part_4",
                                    "part_price": 2,
                                    "warehouse_id": "warehouse_10"
                                }
                            ],
                            "product_id": "product_HE6EED19K3",
                            "product_price": 39,
                            "product_type": "product_type_3"
                        }
                    ],
                    "shop_id": 4,
                    "timestamp": 1451672010000
                }
            },
            {
                "_id": "5",
                "_index": "test_sale",
                "_score": 1.0,
                "_source": {
                    "client_id": "client_R1NAWPN35Q",
                    "id": 5,
                    "payment_type": "wire_transfer",
                    "price": 655,
                    "products": [
                        {
                            "parts": [
                                {
                                    "part_id": "part_1",
                                    "part_price": 48,
                                    "warehouse_id": "warehouse_8"
                                },
                                {
                                    "part_id": "part_9",
                                    "part_price": 48,
                                    "warehouse_id": "warehouse_1"
                                },
                                {
                                    "part_id": "part_2",
                                    "part_price": 48,
                                    "warehouse_id": "warehouse_2"
                                },
                                {
                                    "part_id": "part_9",
                                    "part_price": 48,
                                    "warehouse_id": "warehouse_7"
                                },
                                {
                                    "part_id": "part_3",
                                    "part_price": 48,
                                    "warehouse_id": "warehouse_10"
                                },
                                {
                                    "part_id": "part_5",
                                    "part_price": 48,
                                    "warehouse_id": "warehouse_5"
                                },
                                {
                                    "part_id": "part_4",
                                    "part_price": 48,
                                    "warehouse_id": "warehouse_3"
                                },
                                {
                                    "part_id": "part_6",
                                    "part_price": 48,
                                    "warehouse_id": "warehouse_9"
                                },
                                {
                                    "part_id": "part_3",
                                    "part_price": 48,
                                    "warehouse_id": "warehouse_4"
                                }
                            ],
                            "product_id": "product_AFB0IM8VQG",
                            "product_price": 655,
                            "product_type": "product_type_3"
                        }
                    ],
                    "shop_id": 9,
                    "timestamp": 1452359469000
                }
            },
            {
                "_id": "6",
                "_index": "test_sale",
                "_score": 1.0,
                "_source": {
                    "client_id": "client_9HFIX2YP6X",
                    "id": 6,
                    "payment_type": "wire_transfer",
                    "price": 433,
                    "products": [
                        {
                            "parts": [
                                {
                                    "part_id": "part_8",
                                    "part_price": 28,
                                    "warehouse_id": "warehouse_8"
                                }
                            ],
                            "product_id": "product_MECO0MY 8I",
                            "product_price": 43,
                            "product_type": "product_type_4"
                        },
                        {
                            "parts": [
                                {
                                    "part_id": "part_4",
                                    "part_price": 3,
                                    "warehouse_id": "warehouse_8"
                                },
                                {
                                    "part_id": "part_3",
                                    "part_price": 3,
                                    "warehouse_id": "warehouse_7"
                                },
                                {
                                    "part_id": "part_1",
                                    "part_price": 3,
                                    "warehouse_id": "warehouse_3"
                                },
                                {
                                    "part_id": "part_9",
                                    "part_price": 3,
                                    "warehouse_id": "warehouse_4"
                                },
                                {
                                    "part_id": "part_9",
                                    "part_price": 3,
                                    "warehouse_id": "warehouse_6"
                                },
                                {
                                    "part_id": "part_2",
                                    "part_price": 3,
                                    "warehouse_id": "warehouse_10"
                                },
                                {
                                    "part_id": "part_3",
                                    "part_price": 3,
                                    "warehouse_id": "warehouse_4"
                                },
                                {
                                    "part_id": "part_10",
                                    "part_price": 3,
                                    "warehouse_id": "warehouse_10"
                                },
                                {
                                    "part_id": "part_2",
                                    "part_price": 3,
                                    "warehouse_id": "warehouse_9"
                                }
                            ],
                            "product_id": "product_EY5155 CHP",
                            "product_price": 43,
                            "product_type": "product_type_0"
                        },
                        {
                            "parts": [
                                {
                                    "part_id": "part_6",
                                    "part_price": 5,
                                    "warehouse_id": "warehouse_4"
                                },
                                {
                                    "part_id": "part_10",
                                    "part_price": 5,
                                    "warehouse_id": "warehouse_3"
                                },
                                {
                                    "part_id": "part_1",
                                    "part_price": 5,
                                    "warehouse_id": "warehouse_6"
                                },
                                {
                                    "part_id": "part_4",
                                    "part_price": 5,
                                    "warehouse_id": "warehouse_8"
                                },
                                {
                                    "part_id": "part_9",
                                    "part_price": 5,
                                    "warehouse_id": "warehouse_10"
                                }
                            ],
                            "product_id": "product_W6G9H0W2MH",
                            "product_price": 43,
                            "product_type": "product_type_2"
                        },
                        {
                            "parts": [
                                {
                                    "part_id": "part_9",
                                    "part_price": 50,
                                    "warehouse_id": "warehouse_7"
                                },
                                {
                                    "part_id": "part_4",
                                    "part_price": 50,
                                    "warehouse_id": "warehouse_10"
                                },
                                {
                                    "part_id": "part_5",
                                    "part_price": 50,
                                    "warehouse_id": "warehouse_8"
                                },
                                {
                                    "part_id": "part_5",
                                    "part_price": 50,
                                    "warehouse_id": "warehouse_2"
                                }
                            ],
                            "product_id": "product_HQK70 XP9J",
                            "product_price": 304,
                            "product_type": "product_type_1"
                        }
                    ],
                    "shop_id": 9,
                    "timestamp": 1454142253000
                }
            },
            {
                "_id": "7",
                "_index": "test_sale",
                "_score": 1.0,
                "_source": {
                    "client_id": "client_1EAQMUR7QJ",
                    "id": 7,
                    "payment_type": "store_credit",
                    "price": 965,
                    "products": [
                        {
                            "parts": [
                                {
                                    "part_id": "part_4",
                                    "part_price": 10,
                                    "warehouse_id": "warehouse_9"
                                },
                                {
                                    "part_id": "part_7",
                                    "part_price": 10,
                                    "warehouse_id": "warehouse_2"
                                },
                                {
                                    "part_id": "part_10",
                                    "part_price": 10,
                                    "warehouse_id": "warehouse_6"
                                },
                                {
                                    "part_id": "part_1",
                                    "part_price": 10,
                                    "warehouse_id": "warehouse_2"
                                },
                                {
                                    "part_id": "part_4",
                                    "part_price": 10,
                                    "warehouse_id": "warehouse_4"
                                },
                                {
                                    "part_id": "part_10",
                                    "part_price": 10,
                                    "warehouse_id": "warehouse_8"
                                }
                            ],
                            "product_id": "product_BV5G46V4DK",
                            "product_price": 96,
                            "product_type": "product_type_0"
                        },
                        {
                            "parts": [
                                {
                                    "part_id": "part_7",
                                    "part_price": 21,
                                    "warehouse_id": "warehouse_2"
                                },
                                {
                                    "part_id": "part_8",
                                    "part_price": 21,
                                    "warehouse_id": "warehouse_3"
                                },
                                {
                                    "part_id": "part_2",
                                    "part_price": 21,
                                    "warehouse_id": "warehouse_5"
                                }
                            ],
                            "product_id": "product_AM7JA8F9MZ",
                            "product_price": 96,
                            "product_type": "product_type_4"
                        },
                        {
                            "parts": [
                                {
                                    "part_id": "part_5",
                                    "part_price": 57,
                                    "warehouse_id": "warehouse_9"
                                },
                                {
                                    "part_id": "part_10",
                                    "part_price": 57,
                                    "warehouse_id": "warehouse_7"
                                },
                                {
                                    "part_id": "part_6",
                                    "part_price": 57,
                                    "warehouse_id": "warehouse_1"
                                },
                                {
                                    "part_id": "part_6",
                                    "part_price": 57,
                                    "warehouse_id": "warehouse_10"
                                },
                                {
                                    "part_id": "part_5",
                                    "part_price": 57,
                                    "warehouse_id": "warehouse_6"
                                },
                                {
                                    "part_id": "part_10",
                                    "part_price": 57,
                                    "warehouse_id": "warehouse_6"
                                },
                                {
                                    "part_id": "part_9",
                                    "part_price": 57,
                                    "warehouse_id": "warehouse_6"
                                },
                                {
                                    "part_id": "part_7",
                                    "part_price": 57,
                                    "warehouse_id": "warehouse_5"
                                },
                                {
                                    "part_id": "part_2",
                                    "part_price": 57,
                                    "warehouse_id": "warehouse_4"
                                }
                            ],
                            "product_id": "product_QTUWR5L0PK",
                            "product_price": 773,
                            "product_type": "product_type_1"
                        }
                    ],
                    "shop_id": 10,
                    "timestamp": 1453974644000
                }
            },
            {
                "_id": "8",
                "_index": "test_sale",
                "_score": 1.0,
                "_source": {
                    "client_id": "client_WWLUKBHXOM",
                    "id": 8,
                    "payment_type": "cash",
                    "price": 251,
                    "products": [
                        {
                            "parts": [
                                {
                                    "part_id": "part_10",
                                    "part_price": 8,
                                    "warehouse_id": "warehouse_1"
                                },
                                {
                                    "part_id": "part_9",
                                    "part_price": 8,
                                    "warehouse_id": "warehouse_8"
                                }
                            ],
                            "product_id": "product_ZVVAG147N8",
                            "product_price": 25,
                            "product_type": "product_type_3"
                        },
                        {
                            "parts": [
                                {
                                    "part_id": "part_4",
                                    "part_price": 3,
                                    "warehouse_id": "warehouse_3"
                                },
                                {
                                    "part_id": "part_6",
                                    "part_price": 3,
                                    "warehouse_id": "warehouse_5"
                                },
                                {
                                    "part_id": "part_5",
                                    "part_price": 3,
                                    "warehouse_id": "warehouse_2"
                                },
                                {
                                    "part_id": "part_9",
                                    "part_price": 3,
                                    "warehouse_id": "warehouse_2"
                                },
                                {
                                    "part_id": "part_4",
                                    "part_price": 3,
                                    "warehouse_id": "warehouse_4"
                                }
                            ],
                            "product_id": "product_WQUUHZCM E",
                            "product_price": 25,
                            "product_type": "product_type_2"
                        },
                        {
                            "parts": [
                                {
                                    "part_id": "part_5",
                                    "part_price": 1,
                                    "warehouse_id": "warehouse_3"
                                },
                                {
                                    "part_id": "part_1",
                                    "part_price": 1,
                                    "warehouse_id": "warehouse_8"
                                },
                                {
                                    "part_id": "part_10",
                                    "part_price": 1,
                                    "warehouse_id": "warehouse_1"
                                },
                                {
                                    "part_id": "part_7",
                                    "part_price": 1,
                                    "warehouse_id": "warehouse_6"
                                },
                                {
                                    "part_id": "part_3",
                                    "part_price": 1,
                                    "warehouse_id": "warehouse_5"
                                },
                                {
                                    "part_id": "part_1",
                                    "part_price": 1,
                                    "warehouse_id": "warehouse_5"
                                },
                                {
                                    "part_id": "part_10",
                                    "part_price": 1,
                                    "warehouse_id": "warehouse_2"
                                },
                                {
                                    "part_id": "part_5",
                                    "part_price": 1,
                                    "warehouse_id": "warehouse_2"
                                },
                                {
                                    "part_id": "part_2",
                                    "part_price": 1,
                                    "warehouse_id": "warehouse_5"
                                }
                            ],
                            "product_id": "product_HNTCUDFV4Y",
                            "product_price": 25,
                            "product_type": "product_type_3"
                        },
                        {
                            "parts": [
                                {
                                    "part_id": "part_3",
                                    "part_price": 2,
                                    "warehouse_id": "warehouse_8"
                                },
                                {
                                    "part_id": "part_10",
                                    "part_price": 2,
                                    "warehouse_id": "warehouse_9"
                                },
                                {
                                    "part_id": "part_8",
                                    "part_price": 2,
                                    "warehouse_id": "warehouse_10"
                                },
                                {
                                    "part_id": "part_3",
                                    "part_price": 2,
                                    "warehouse_id": "warehouse_3"
                                },
                                {
                                    "part_id": "part_5",
                                    "part_price": 2,
                                    "warehouse_id": "warehouse_2"
                                },
                                {
                                    "part_id": "part_4",
                                    "part_price": 2,
                                    "warehouse_id": "warehouse_6"
                                },
                                {
                                    "part_id": "part_2",
                                    "part_price": 2,
                                    "warehouse_id": "warehouse_10"
                                },
                                {
                                    "part_id": "part_10",
                                    "part_price": 2,
                                    "warehouse_id": "warehouse_2"
                                }
                            ],
                            "product_id": "product_134XH7WPJ ",
                            "product_price": 25,
                            "product_type": "product_type_0"
                        },
                        {
                            "parts": [
                                {
                                    "part_id": "part_8",
                                    "part_price": 100,
                                    "warehouse_id": "warehouse_10"
                                }
                            ],
                            "product_id": "product_1PQ2VPDKLF",
                            "product_price": 151,
                            "product_type": "product_type_2"
                        }
                    ],
                    "shop_id": 7,
                    "timestamp": 1453633332000
                }
            },
            {
                "_id": "9",
                "_index": "test_sale",
                "_score": 1.0,
                "_source": {
                    "client_id": "client_8V5RPX 7E2",
                    "id": 9,
                    "payment_type": "store_credit",
                    "price": 345,
                    "products": [
                        {
                            "parts": [
                                {
                                    "part_id": "part_4",
                                    "part_price": 3,
                                    "warehouse_id": "warehouse_7"
                                },
                                {
                                    "part_id": "part_1",
                                    "part_price": 3,
                                    "warehouse_id": "warehouse_8"
                                },
                                {
                                    "part_id": "part_7",
                                    "part_price": 3,
                                    "warehouse_id": "warehouse_4"
                                },
                                {
                                    "part_id": "part_1",
                                    "part_price": 3,
                                    "warehouse_id": "warehouse_3"
                                },
                                {
                                    "part_id": "part_5",
                                    "part_price": 3,
                                    "warehouse_id": "warehouse_1"
                                },
                                {
                                    "part_id": "part_9",
                                    "part_price": 3,
                                    "warehouse_id": "warehouse_6"
                                },
                                {
                                    "part_id": "part_7",
                                    "part_price": 3,
                                    "warehouse_id": "warehouse_8"
                                }
                            ],
                            "product_id": "product_HNTCUDFV4Y",
                            "product_price": 34,
                            "product_type": "product_type_3"
                        },
                        {
                            "parts": [
                                {
                                    "part_id": "part_3",
                                    "part_price": 41,
                                    "warehouse_id": "warehouse_8"
                                },
                                {
                                    "part_id": "part_9",
                                    "part_price": 41,
                                    "warehouse_id": "warehouse_4"
                                },
                                {
                                    "part_id": "part_10",
                                    "part_price": 41,
                                    "warehouse_id": "warehouse_5"
                                },
                                {
                                    "part_id": "part_2",
                                    "part_price": 41,
                                    "warehouse_id": "warehouse_4"
                                },
                                {
                                    "part_id": "part_8",
                                    "part_price": 41,
                                    "warehouse_id": "warehouse_6"
                                }
                            ],
                            "product_id": "product_1A2C4KPIFX",
                            "product_price": 311,
                            "product_type": "product_type_2"
                        }
                    ],
                    "shop_id": 10,
                    "timestamp": 1452908617000
                }
            },
            {
                "_id": "10",
                "_index": "test_sale",
                "_score": 1.0,
                "_source": {
                    "client_id": "client_4M2397LRAX",
                    "id": 10,
                    "payment_type": "store_credit",
                    "price": 399,
                    "products": [
                        {
                            "parts": [
                                {
                                    "part_id": "part_4",
                                    "part_price": 13,
                                    "warehouse_id": "warehouse_8"
                                },
                                {
                                    "part_id": "part_10",
                                    "part_price": 13,
                                    "warehouse_id": "warehouse_7"
                                }
                            ],
                            "product_id": "product_ZKHGHC5324",
                            "product_price": 39,
                            "product_type": "product_type_1"
                        },
                        {
                            "parts": [
                                {
                                    "part_id": "part_4",
                                    "part_price": 60,
                                    "warehouse_id": "warehouse_10"
                                },
                                {
                                    "part_id": "part_4",
                                    "part_price": 60,
                                    "warehouse_id": "warehouse_10"
                                },
                                {
                                    "part_id": "part_8",
                                    "part_price": 60,
                                    "warehouse_id": "warehouse_1"
                                },
                                {
                                    "part_id": "part_1",
                                    "part_price": 60,
                                    "warehouse_id": "warehouse_6"
                                }
                            ],
                            "product_id": "product_HQK70 XP9J",
                            "product_price": 360,
                            "product_type": "product_type_1"
                        }
                    ],
                    "shop_id": 3,
                    "timestamp": 1453786553000
                }
            }
        ],
        "max_score": 1.0,
        "total": {
            "relation": "eq",
            "value": 1000
        }
    },
    "timed_out": false
}